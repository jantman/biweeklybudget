jsdoc.transactions\_modal
=========================

File: ``biweeklybudget/flaskapp/static/js/transactions_modal.js``

.. js:function:: budgetSplitBlur()

   Triggered when a form element for budget splits loses focus. Calls
   :js:func:`validateTransModalSplits` and updates the warning div with the
   result.

   

   

.. js:function:: transModal(id, dataTableObj)

   Show the Transaction modal popup, optionally populated with
   information for one Transaction. This function calls
   :js:func:`transModalDivForm` to generate the form HTML,
   :js:func:`transModalDivFillAndShow` to populate the form for editing,
   and :js:func:`handleForm` to handle the Submit action (using
   :js:func:`transModalFormSerialize` as a custom serialization function).

   :param number id: the ID of the Transaction to show a modal for, or null to show modal to add a new Transaction.
   :param Object|null dataTableObj: passed on to :js:func:`handleForm`
   

   

.. js:function:: transModalAddSplitBudget()

   Handler for the "Add Budget" link on trans modal when using budget split.

   

   

.. js:function:: transModalBudgetSplitRowHtml(row_num)

   Generate HTML for a budget div inside the split budgets div.

   :param Integer row_num: the budget split row number
   

   

.. js:function:: transModalDivFillAndShow(msg)

   Ajax callback to fill in the modalDiv with data on a Transaction.

   

   

.. js:function:: transModalDivForm()

   Generate the HTML for the form on the Modal

   

   

.. js:function:: transModalFormSerialize(form_id)

   Custom serialization function passed to :js:func:`handleForm` for
   Transaction modal forms generated by :js:func:`transModal`. This handles
   serialization of Transaction forms that may have a budget split, generating
   data with a ``budgets`` Object (hash/mapping/dict) with budget ID keys and
   amount values, suitable for passing directly to
   :py:meth:`~.Transaction.set_budget_amounts`.

   :param String form_id: the ID of the form on the page.
   

   

.. js:function:: transModalHandleSplit()

   Handler for change of the "Budget Split?" (``#trans_frm_is_split``) checkbox.

   

   

.. js:function:: transModalSplitBudgetChanged(row_num)

   Called when a budget split dropdown is changed. If its amount box is empty,
   set it to the transaction amount minus the sum of all other budget splits.

   :param Integer row_num: the budget split row number
   

   

.. js:function:: validateTransModalSplits()

   Function to validate Transaction modal split budgets. Returns null if valid
   or otherwise a String error message.

   

   

